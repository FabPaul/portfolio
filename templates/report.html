{% extends 'base.html' %}

{% block title %}See-Say Cameroon{% endblock %}

{% block content %}
    <h1> Submit a Report </h1>
    <style>
        h1 {
            margin-top: 4cm;
        }
        .form-group {
            margin-bottom: 1cm;
        }
    </style>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <form action="/report" method="POST">
        <div class="form-group">
            <label for="incident_type">Incident Type:</label>
            <select name="incident_type" id="incident_type" required>
                <option value="Security">Security</option>
                <option value="Harassment">Harassment</option>
                <option value="Infrastructure">Infrastructure</option>
                <option value="weather">Weather Condition</option>
                <option value="gaz">Fuel shortage</option>
                <option value="power">Power Supply</option>
                <option value="Other">Other</option>
            </select><br>
        </div>
        <div class="form-group">
            <label for="details">Details:</label><br>
            <textarea name="details" id="details" required></textarea><br>
        </div>
        <div class="form-group">
            <label for="location">Location: </label><br>
            <input type="text" id="location" name="location"><br>
        </div>
        <div class="form-group">
            <label for="status">Status:</label><br>
            <select id="status" name="status" required>
                <option value="pending" selected>Pending</option>
                <option value="investigating">Under Investigation</option>
                <option value="resolved">Resolved</option>
            </select><br>
        </div>
        <button type="submit">Submit Report</button>
    </form>
    {% if crsf_token %}
    <input type="hidden" name="crsf_token" value="{{ crsf_token }}">
    {% endif %}
{% endblock %}
